(function(D){var C=new Array,B=new Array,A=function(){},z=0;var y={splashVPos:"18%",loaderVPos:"75%",splashID:"#jpreContent",showSplash:true,showPercentage:true,autoClose:true,closeBtnText:"Start!",onetimeLoad:false,debugMode:false,splashFunction:function(){}};
var x=function(){if(y.onetimeLoad){var e=document.cookie.split("; ");for(var d=0,f;f=e[d]&&e[d].split("=");d++){if(f.shift()==="jpreLoader"){return f.join("=");
}}return false;}else{return false;}};var w=function(e){if(y.onetimeLoad){var d=new Date;d.setDate(d.getDate()+e);var f=e==null?"":"expires="+d.toUTCString();
document.cookie="jpreLoader=loaded; "+f;}};var v=function(){jOverlay=D("<div></div>").attr("id","jpreOverlay").css({}).appendTo("body");if(y.showSplash){jContent=D("<div></div>").attr("id","jpreSlide").appendTo(jOverlay);
var a=D(window).width()-D(jContent).width();D(jContent).css({});D(jContent).html(D(y.splashID).wrap("<div/>").parent().html());D(y.splashID).remove();y.splashFunction();
}jLoader=D("<div></div>").attr("id","jpreLoader").appendTo(jContent);var d=D(window).width()-D(jLoader).width();D(jLoader).css({});jBar=D("<div></div>").attr("id","jpreBar").css({width:"0%",height:"100%"}).appendTo(jLoader);
if(y.showPercentage){jPer=D("<div></div>").attr("id","jprePercentage").css({position:"relative",height:"100%"}).appendTo(jLoader).html("Loading...");}if(!y.autoclose){jButton=D("<div></div>").attr("id","jpreButton").on("click",function(){q();
}).css({position:"relative",height:"100%"}).appendTo(jLoader).text(y.closeBtnText).hide();}};var u=function(a){D(a).find("*:not(script)").each(function(){var e="";
if(D(this).css("background-image").indexOf("none")==-1&&D(this).css("background-image").indexOf("-gradient")==-1){e=D(this).css("background-image");if(e.indexOf("url")!=-1){var b=e.match(/url\((.*?)\)/);
e=b[1].replace(/\"/g,"");}}else{if(D(this).get(0).nodeName.toLowerCase()=="img"&&typeof D(this).attr("src")!="undefined"){e=D(this).attr("src");}}if(e.length>0){C.push(e);
}});};var t=function(){for(var b=0;b<C.length;b++){if(s(C[b])){}}};var s=function(a){var c=new Image;D(c).load(function(){r();}).error(function(){B.push(D(this).attr("src"));
r();}).attr("src",a);};var r=function(){z++;var b=Math.round(z/C.length*100);D(jBar).stop().animate({width:b+"%"},500,"linear");if(y.showPercentage){D(jPer).text(b+"%");
}if(z>=C.length){z=C.length;w();if(y.showPercentage){D(jPer).text("100%");}if(y.debugMode){var a=p();}D(jBar).stop().animate({width:"100%"},500,"linear",function(){if(y.autoClose){q();
}else{D(jButton).fadeIn(1000);}});}};var q=function(){D(jOverlay).addClass("animation").fadeOut(2500,function(){D(jOverlay).remove();A();});};var p=function(){if(B.length>0){var d="ERROR - IMAGE FILES MISSING!!!\n\r";
d+=B.length+" image files cound not be found. \n\r";d+="Please check your image paths and filenames:\n\r";for(var c=0;c<B.length;c++){d+="- "+B[c]+"\n\r";
}return true;}else{return false;}};D.fn.jpreLoader=function(a,d){if(a){D.extend(y,a);}if(typeof d=="function"){A=d;}D("body").css({display:"block"});return this.each(function(){if(!x()){v();
u(this);t();}else{D(y.splashID).remove();A();}});};})(jQuery);